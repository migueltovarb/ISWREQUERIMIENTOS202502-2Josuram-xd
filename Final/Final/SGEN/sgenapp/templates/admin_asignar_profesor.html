<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Asignar Profesor â€¢ SGEN</title>
<style>
:root{--brand-blue:#1565C0;--bg:#fff;--border:#DADCE0;--radius-xl:1rem}
*{box-sizing:border-box}body{font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;background:#f4f6fa;margin:0;padding:2rem}
.container{max-width:900px;margin:0 auto;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius-xl);padding:1.5rem}
.form-row{display:flex;gap:1rem}
.form-group{flex:1}
label{display:block;margin-bottom:.25rem}
select,input{width:100%;padding:.5rem;border:1px solid var(--border);border-radius:.5rem}
button{padding:.6rem 1rem;background:var(--brand-blue);color:#fff;border:none;border-radius:.5rem}
</style>
</head>
<body>
<div class="container">
  <h1>Asignar Profesor a Materia en Grupo</h1>
  
  {% if messages %}
    <div style="margin-bottom:1rem;">
      {% for message in messages %}
        <div style="padding:0.75rem; border-radius:0.5rem; {% if message.tags == 'error' %}background:#fee; color:#c33;{% else %}background:#efe; color:#3c3;{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
  
  <form method="post">
    {% csrf_token %}
    <div class="form-row">
      <div class="form-group">
        <label>Materia</label>
        <select name="materia" required>
          <option value="">--Seleccione--</option>
          {% for m in materias %}<option value="{{ m.id }}">{{ m.codigo }} - {{ m.nombre }}</option>{% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label>Grupo</label>
        <select name="grupo" required>
          <option value="">--Seleccione--</option>
          {% for g in grupos %}<option value="{{ g.id }}">{{ g.nombre }} - {{ g.periodo.nombre }}</option>{% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label>Profesor</label>
        <select name="profesor" required>
          <option value="">--Seleccione--</option>
          {% for p in profesores %}<option value="{{ p.id_usuario }}">{{ p.first_name|default:p.username }}</option>{% endfor %}
        </select>
      </div>
    </div>
    <div style="margin-top:1rem"><button type="submit">Asignar</button></div>
  </form>
  <div style="margin-top:1rem"><a href="{% url 'admin_dashboard' %}">Volver al Dashboard</a></div>
</div>
</body>
</html>